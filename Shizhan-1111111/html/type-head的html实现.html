<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<style>
    #a{
        z-index: 100;
        overflow:hidden;
        background: lightgray;
    }
</style>
<body>
        <!-- https://www.w3schools.com/tags/tag_datalist.asp -->
<div>
    <ul>
        <li>select item1</li>
        <li>select item4</li>
        <li>select item3</li>
        <li>select item2</li>
    </ul>
</div>

<div>
    <label for="in">input:</label>
     <input id = "in" list="a" onkeyup="add()" onblur="rm()">
    <datalist id="a"></datalist>
</div>

<!-- <input list="browsers">
<datalist id="browsers">
  <option value="Internet Explorer">
  <option value="Firefox">
  <option value="Chrome">
  <option value="Opera">
  <option value="Safari">
</datalist> -->

<button onclick="rm()">remove</button>
<button onclick="add(5)">add</button>

<script>
    function rm(){
        var t = document.getElementById("a");
        for(var i = t.childNodes.length-1 ; i > 0 ; i--) {
            t.removeChild(t.childNodes[i]);
        }
    }

    function typeHead() {
        var storage = ["dog", "cat", "category", "pig", "cte"];
        var tar = document.getElementById("in").value;
        var out = storage.filter(function(e){
            return e.indexOf(tar) == 0;
        })
        console.log(out);

        return out; // out =[cat", "category"];
    }

    function add() {
        var t = document.getElementById("a");
        var fragment = document.createDocumentFragment();
        rm();

        var out = typeHead();
        for(var i = 0; i < out.length; i++) {
            var node = document.createElement("option");
            node.value = out[i];
            fragment.appendChild(node);

        }
        t.appendChild(fragment);

    }

</script>
</body>
</html>
